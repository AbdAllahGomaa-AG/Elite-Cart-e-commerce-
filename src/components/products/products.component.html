<section class="container">
  <section class="FlashSales mt-10 sm:p-2 md:p-6 lg:p-8 xl:p-10 2xl:p-10">
    <span class="border-s-8 p-1 font-semibold text-[#db4444] border-[#db4444]">
      products</span
    >
    <p class="text-2xl font-extrabold mt-4">All products</p>
    <!-- search -->
    <input
      type="search"
      placeholder="search By name....."
      [(ngModel)]="text"
      class="w-[50%] mx-auto bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#db4444] focus:border-[#db4444] block ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-[#db4444]"
    />

    <div
      class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4 cr"
    >
      @for ( product of productList |search:text ; track product.id ) {

      <div class="p-10">
        <div class="relative">
          <img
            [src]="product.imageCover"
            class="w-full rounded-lg"
            loading="lazy"
            [alt]="product.title"
            [routerLink]="['/details', product.id]"
          />
          <div class="bg-white absolute top-0 right-0">
            <i
             (click)="addToWishlist(product.id)"
              class="fa-solid fa-heart text-xl hover:text-red-600 transition duration-200 rounded-md"
            ></i>
            <i
             (click)="addToCart(product.id)"
              class="fa-solid fa-cart-shopping block mt-3 text-xl hover:text-[#FFB200] rounded-md"
            ></i>
          </div>
        </div>

        <h3 class="text-main text-2xl font-semibold">
          {{ product.category.name }}
        </h3>
        <p class="mt-2 font-semibold text-lg">
          {{ product.title.split(" ", 2).join(" ") }}
        </p>
        <div class="flex justify-between items-center">
          <p class="text-lg font-semibold text-gray-600">
            {{ product.price }} EGP
          </p>
          <div>
            @for (num of [1,2,3,4,5].slice(0,product.ratingsAverage); track
            $index) {

            <span><i class="fas fa-star text-yellow-300"> </i> </span>

            } @if(product.ratingsAverage%1!==0){
            <span
              ><i class="fa-solid fa-star-half-stroke text-yellow-300"> </i>
            </span>

            }
            <span class="text-xl"> {{ product.ratingsAverage }}</span>
          </div>
        </div>
      </div>
      }
    </div>
  </section>
</section>
